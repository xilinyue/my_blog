{"version":3,"sources":["webpack:///./src/views/Admin/User/UserManage.vue?8abb","webpack:///./src/views/Admin/User/UserManage.vue?604c","webpack:///src/views/Admin/User/UserManage.vue","webpack:///./src/views/Admin/User/UserManage.vue?09ce","webpack:///./src/views/Admin/User/UserManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","userList","scopedSlots","_u","key","fn","scope","on","$event","handleDisabledChange","row","model","value","callback","$$v","$set","expression","handleAdminChange","currentPage","totalUser","handleSizeChange","handleCurrentChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-caf58362.9ec818b8.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=style&index=0&id=67371eb8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=style&index=0&id=67371eb8&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-manage\"},[_c('h1',[_vm._v(\"用户管理\")]),_c('div',{staticStyle:{\"color\":\"#ccc\",\"margin\":\"20px\"}},[_vm._v(\"暂时不进行用户的删除!!!删除用户的时候记得删除最近访客列表中的数据 在登录的时候可以在vuex中设置userinfo判断是否存在再iflogin\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\",\"align\":\"center\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"label\":\"是否禁用\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#f00\",\"inactive-color\":\"#eee\"},on:{\"change\":function($event){return _vm.handleDisabledChange(scope.row)}},model:{value:(scope.row.disabled),callback:function ($$v) {_vm.$set(scope.row, \"disabled\", $$v)},expression:\"scope.row.disabled\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"管理员\",\"align\":\"center\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#eee\"},on:{\"change\":function($event){return _vm.handleAdminChange(scope.row)}},model:{value:(scope.row.admin),callback:function ($$v) {_vm.$set(scope.row, \"admin\", $$v)},expression:\"scope.row.admin\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"disabled\":\"\"}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5, 10, 15],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next\",\"total\":_vm.totalUser},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"user-manage\">\r\n        <h1>用户管理</h1>\r\n        <div style=\"color: #ccc;margin: 20px\">暂时不进行用户的删除!!!删除用户的时候记得删除最近访客列表中的数据\r\n            在登录的时候可以在vuex中设置userinfo判断是否存在再iflogin</div>\r\n        <el-table\r\n                :data=\"userList\"\r\n                style=\"width: 100%\"\r\n                stripe>\r\n            <el-table-column\r\n                    type=\"index\"\r\n                    width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"username\"\r\n                    label=\"用户名\"\r\n                    align=\"center\"\r\n                    width=\"300\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"是否禁用\"\r\n                    align=\"center\"\r\n                    width=\"150\">\r\n                <template v-slot=\"scope\">\r\n                    <el-switch\r\n                            v-model=\"scope.row.disabled\"\r\n                            active-color=\"#f00\"\r\n                            inactive-color=\"#eee\"\r\n                            @change=\"handleDisabledChange(scope.row)\">\r\n                    </el-switch>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"管理员\"\r\n                    align=\"center\"\r\n                    width=\"150\">\r\n                <template v-slot=\"scope\">\r\n                    <el-switch\r\n                            v-model=\"scope.row.admin\"\r\n                            active-color=\"#13ce66\"\r\n                            inactive-color=\"#eee\"\r\n                            @change=\"handleAdminChange(scope.row)\">\r\n                    </el-switch>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"操作\"\r\n                    align=\"center\"\r\n            >\r\n                <template v-slot=\"scope\">\r\n                    <el-button type=\"danger\" size=\"mini\" disabled>删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\"\r\n                :page-sizes=\"[5, 10, 15]\"\r\n                :page-size=\"5\"\r\n                layout=\"total, sizes, prev, pager, next\"\r\n                :total=\"totalUser\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import userService from \"../../../api/userService\";\r\n    export default {\r\n        name: \"UserManage\",\r\n        data() {\r\n            return{\r\n                userList: [],\r\n                totalUser: 0,\r\n                currentPage: 1,\r\n                query: {\r\n                    skip: 0,\r\n                    limit: 5\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getTotalUser();\r\n            this.getUserListLazyed();\r\n        },\r\n        methods: {\r\n            getTotalUser() {\r\n                userService.getTotalUser().then(res => {\r\n                    if (res.code === 0){\r\n                        this.totalUser = res.total;\r\n                    }\r\n                });\r\n            },\r\n            getUserListLazyed() {\r\n                userService.getUserListLazyed(this.query).then(res => {\r\n                   if (res.code === 0){\r\n                       this.userList = res.data;\r\n                   }\r\n                });\r\n            },\r\n            handleSizeChange(size) {\r\n                this.query.limit = size;\r\n                this.getUserListLazyed();\r\n            },\r\n            handleCurrentChange(currentPage) {\r\n                this.query.skip = (currentPage-1) * this.query.limit;\r\n                this.getUserListLazyed();\r\n            },\r\n            //修改用户的disabled属性\r\n            handleDisabledChange(row){\r\n                userService.updateUserDisabledById(row._id,row.disabled).then(res => {\r\n                   if (res.code === 0){\r\n                       this.$message({\r\n                           type: 'success',\r\n                           message: res.msg,\r\n                           duration: 3000\r\n                       });\r\n                       this.getUserListLazyed();\r\n                   }else{\r\n                       this.$message({\r\n                           type: 'error',\r\n                           message: res.msg,\r\n                           duration: 3000\r\n                       });\r\n                   }\r\n                });\r\n            },\r\n            //修改用户的admin属性\r\n            handleAdminChange(row){\r\n                userService.updateUserAdminById(row._id,row.admin).then(res => {\r\n                    if (res.code === 0){\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: res.msg,\r\n                            duration: 3000\r\n                        });\r\n                        this.getUserListLazyed();\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'error',\r\n                            message: res.msg,\r\n                            duration: 3000\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .user-manage{\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        h1{\r\n            font-family: Kaiti;\r\n            font-size: 25px;\r\n            margin-bottom: 10px;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManage.vue?vue&type=template&id=67371eb8&scoped=true&\"\nimport script from \"./UserManage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserManage.vue?vue&type=style&index=0&id=67371eb8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67371eb8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}