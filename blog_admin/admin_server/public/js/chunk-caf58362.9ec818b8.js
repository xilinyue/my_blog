(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-caf58362"],{5591:function(e,t,a){},aba6:function(e,t,a){"use strict";var n=a("5591"),s=a.n(n);s.a},b608:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-manage"},[a("h1",[e._v("用户管理")]),a("div",{staticStyle:{color:"#ccc",margin:"20px"}},[e._v("暂时不进行用户的删除!!!删除用户的时候记得删除最近访客列表中的数据 在登录的时候可以在vuex中设置userinfo判断是否存在再iflogin")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,stripe:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center",width:"300"}}),a("el-table-column",{attrs:{label:"是否禁用",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#f00","inactive-color":"#eee"},on:{change:function(a){return e.handleDisabledChange(t.row)}},model:{value:t.row.disabled,callback:function(a){e.$set(t.row,"disabled",a)},expression:"scope.row.disabled"}})]}}])}),a("el-table-column",{attrs:{label:"管理员",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#eee"},on:{change:function(a){return e.handleAdminChange(t.row)}},model:{value:t.row.admin,callback:function(a){e.$set(t.row,"admin",a)},expression:"scope.row.admin"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",disabled:""}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15],"page-size":5,layout:"total, sizes, prev, pager, next",total:e.totalUser},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},s=[],i=a("3a2d"),r={name:"UserManage",data:function(){return{userList:[],totalUser:0,currentPage:1,query:{skip:0,limit:5}}},mounted:function(){this.getTotalUser(),this.getUserListLazyed()},methods:{getTotalUser:function(){var e=this;i["a"].getTotalUser().then((function(t){0===t.code&&(e.totalUser=t.total)}))},getUserListLazyed:function(){var e=this;i["a"].getUserListLazyed(this.query).then((function(t){0===t.code&&(e.userList=t.data)}))},handleSizeChange:function(e){this.query.limit=e,this.getUserListLazyed()},handleCurrentChange:function(e){this.query.skip=(e-1)*this.query.limit,this.getUserListLazyed()},handleDisabledChange:function(e){var t=this;i["a"].updateUserDisabledById(e._id,e.disabled).then((function(e){0===e.code?(t.$message({type:"success",message:e.msg,duration:3e3}),t.getUserListLazyed()):t.$message({type:"error",message:e.msg,duration:3e3})}))},handleAdminChange:function(e){var t=this;i["a"].updateUserAdminById(e._id,e.admin).then((function(e){0===e.code?(t.$message({type:"success",message:e.msg,duration:3e3}),t.getUserListLazyed()):t.$message({type:"error",message:e.msg,duration:3e3})}))}}},o=r,l=(a("aba6"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"67371eb8",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-caf58362.9ec818b8.js.map